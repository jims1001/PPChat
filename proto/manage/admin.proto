syntax = "proto3";
package message.v1;
option go_package = "PPChat/gen/manage;managepb";

import "message/common.proto";
import "message/message.proto";
import "message/frame.proto";



// 运维侧接口（仅服务端或受限客户端使用）
service AdminService {
  rpc PublishSystemEvent(SystemEvent) returns (AckData);
  rpc KickUser(KickUserReq) returns (AckData);
  rpc MuteUser(MuteUserReq) returns (AckData);
  rpc Broadcast(BroadcastReq) returns (AckData);
}

message KickUserReq { string user_id = 1; string reason = 2; }
message MuteUserReq { string user_id = 1; int64 until = 2; string reason = 3; }
message BroadcastReq {
  MessageFrameData frame = 1;        // 允许推送到一批订阅方
  repeated string guild_ids   = 2;
  repeated string channel_ids = 3;
  repeated string user_ids    = 4;
}
